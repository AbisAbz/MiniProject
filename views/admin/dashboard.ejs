 
<% include('../layouts/header.ejs') %>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    <script src="validate.js"></script>
    <style>
        *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
body{
    background-image: url(/image/wallpaperflare.com_wallpaper\ \(1\).jpg);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgb(30, 57, 62);
}
.mainbox{
    border-radius: 30px;
    background-color: rgba(48, 148, 116, 0.2);
}
.bttn{
    width: 50% !important;
    display: inline-block !important;
}
.box{
    box-shadow: rgba(39, 188, 138, 0.35) 0px 5px 15px;
}
    </style>
    
    <title>Login Page</title>
</head>
<body>
    <div class=" rounded-4 p-5 mt-4 mainbox">
        <h1>Dashboard</h1>

    <form method="GET" action="/admin/dashboard" class="form-inline d-flex col-12">
        <nav class="navbar navbar-light d-inline-block col-12">
              <input class="form-control bttn mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="search">
              <input type="submit" value="Search" class="btn btn-outline-success my-2 my-sm-0 float-left">
              <a href="/admin/dashboard" class="btn btn-success">Reset</a>
          </nav>
    </form>

    <a href="/admin/add" class="btn btn-secondary">Add New User</a>

    <table id="dtBasicExample" class="table table-striped table-sm mt-4" cellspacing="0" width="100%">
        <thead>
        <tr>
            <th class="th-sm">Name
            </th>
            <th class="th-sm">Email
            </th>
            <th class="th-sm">Mobile
            </th>
            <th class="th-sm">Action
            </th>
        </tr>
        </thead>

        <tbody>

       <%
            if(users.length > 0){

                for(let i=0; i<users.length; i++){
                    %>

                    <tr>
                        <td><%= users[i].name %></td>
                        <td><%= users[i].email %></td>
                        <td><%= users[i].mobile %></td>
                        <td>
                            <a href="/admin/edit-user?id=<%= users[i]._id %>" class="btn btn-success">Edit</a>
                            <a href="/admin/delete-user?id=<%= users[i]._id %>" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                <%
                }

            }
            else{
                %>
                    <tr>
                        <td colspan="5">Users Not found</td>
                    </tr>
                <%
            }
       
       %>

        </tbody>
        
    </table>
      
<a href="/admin/home" class="btn btn-primary">Go Home</a>

<a href="/admin/logout" class="btn btn-danger">Logout</a>
    </div>
</body>
</html>
<% include('../layouts/footer.ejs') %>